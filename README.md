# Модуль Telegram Notifier для OkayCMS

Модуль дозволяє отримувати сповіщення в Telegram про нові замовлення, коментарі, зворотні зв'язки та заявки на дзвінок з вашого інтернет-магазину.

## Можливості

- Автоматична відправка сповіщень про нові замовлення в Telegram
- Сповіщення про нові коментарі до товарів та блогів
- Сповіщення про нові зворотні зв'язки (feedback)
- Сповіщення про нові заявки на дзвінок (callback)
- Налаштування кожного типу сповіщень окремо (увімкнути/вимкнути)
- Форматування повідомлень у HTML форматі з детальною інформацією
- Автоматичне обрізання повідомлень, якщо вони перевищують максимальну довжину Telegram API (4096 символів)

## Вимоги

- OkayCMS v4.5.2
- Telegram Bot Token (отримати можна через [@BotFather](https://t.me/BotFather))
- Chat ID Telegram чату або користувача, куди будуть надсилатися сповіщення

## Встановлення

### Варіант 1: Скачування з GitHub

1. Скачайте останню версію модуля з [останнього релізу на GitHub](https://github.com/devSviat/TelegramNotifier-OkayCMS/releases/latest).  
2. Розпакуйте архів на сервері в каталог: `{OkayCMS_root}/Okay/Modules/`

### Варіант 2: Встановлення через Git

1. Виконайте команду в директорії `{OkayCMS_root}/Okay/Modules/Sviat`:
   ```bash
   git clone https://github.com/devSviat/TelegramNotifier-OkayCMS.git TelegramNotifier
   ```
### Результат встановлення

Шлях до модуля має бути таким:
   ```bash
   {OkayCMS_root}/Okay/Modules/Sviat/TelegramNotifier/
   ```

Після встановлення перейдіть в адмін-панель → Модулі → Знайдіть "Telegram сповіщення" → Натисніть "Встановити"

## Налаштування

### Отримання Bot Token

1. Відкрийте Telegram та знайдіть бота [@BotFather](https://t.me/BotFather)
2. Надішліть команду `/newbot` та дотримуйтесь інструкцій
3. Після створення бота ви отримаєте токен у форматі: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`
4. Скопіюйте цей токен

### Отримання Chat ID

1. Додайте вашого бота до групи
2. Знайдіть бота [@getidsbot](https://t.me/getidsbot) та додайте його до групи
3. Бот покаже Chat ID групи (наприклад: `-1001234567890`)

### Налаштування модуля в адмін-панелі

1. Після встановлення модуля перейдіть в адмін-панель → Модулі → Telegram сповіщення
2. Заповніть обов'язкові поля:
   - **Bot Token** - токен вашого Telegram бота
   - **Chat ID** - ID чату або користувача, куди будуть надсилатися сповіщення
3. Увімкніть потрібні типи сповіщень:
   - ✅ Сповіщення про нові замовлення
   - ✅ Сповіщення про нові коментарі
   - ✅ Сповіщення про нові зворотні зв'язки
   - ✅ Сповіщення про нові заявки на дзвінок
4. Натисніть "Зберегти"

## Використання

Після налаштування модуль автоматично відправлятиме сповіщення в Telegram при наступних подіях:

- **Нове замовлення** - коли клієнт оформлює замовлення на сайті
- **Новий коментар** - коли користувач залишає коментар до товару або блогу
- **Новий зворотний зв'язок** - коли клієнт надсилає повідомлення через форму зворотного зв'язку
- **Нова заявка на дзвінок** - коли клієнт залишає заявку на зворотний дзвінок

Кожне повідомлення містить детальну інформацію про подію у зручному HTML форматі.

## Важливо

- Якщо повідомлення перевищує 4096 символів, воно автоматично обрізається
- Переконайтеся, що Bot Token та Chat ID введені правильно, інакше сповіщення не будуть надсилатися

## Ліцензія

Модуль розповсюджується за вільною ліцензією MIT
